---
import { getCollection } from 'astro:content';

export async function getStaticPaths() {
  const devlogs = await getCollection('devlog');
  return devlogs.map((log) => ({
    params: { slug: log.slug },
    props: { slug: log.slug },
  }));
}

const { slug } = Astro.props;
const newUrl = `/devlog/${slug}`;
---

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content={`0;url=${newUrl}`}>
    <title>Redireccionando...</title>
    <script define:vars={{ newUrl }}>
        window.location.href = newUrl;
    </script>
</head>
<body>
    <p>Si no eres redirigido automáticamente, <a href={newUrl}>haz clic aquí</a>.</p>
</body>
</html>
