---
import Layout from "../../layouts/Layout.astro";
import ProjectCard from "../../components/ProjectCard.astro";
import { getCollection } from "astro:content";

const apps = (await getCollection("apps", ({ data }) => !data.draft)).sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<Layout title="Portfolio - ArceApps">
  <div class="relative bg-surface dark:bg-dark-surface py-20 md:py-32 overflow-hidden">
    <!-- Background Elements -->
    <div class="absolute inset-0 bg-gradient-to-br from-primary/5 to-secondary/5 dark:from-primary/10 dark:to-secondary/10"></div>
    <div class="absolute -top-40 -right-40 w-96 h-96 opacity-20 pointer-events-none" style="background: radial-gradient(circle, var(--color-primary) 0%, transparent 70%);"></div>
    <div class="absolute -bottom-40 -left-40 w-96 h-96 opacity-20 pointer-events-none" style="background: radial-gradient(circle, var(--color-secondary) 0%, transparent 70%);"></div>

    <div class="container mx-auto px-4 relative z-10 text-center">
      <h1 class="text-5xl md:text-6xl font-extrabold mb-6 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary">
        Portfolio Indie
      </h1>
      <p class="text-xl md:text-2xl text-on-surface-variant dark:text-dark-on-surface-variant max-w-3xl mx-auto leading-relaxed">
        Aplicaciones desarrolladas con pasión, desde la idea hasta la publicación.
      </p>
    </div>
  </div>

  <section class="py-16 md:py-24 bg-surface-variant/30 dark:bg-dark-surface-variant/30">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
        {apps.map((app) => (
          <ProjectCard
            title={app.data.title}
            description={app.data.description}
            heroImage={app.data.heroImage}
            realIconUrl={app.data.realIconUrl}
            tags={app.data.tags}
            pubDate={app.data.pubDate}
            slug={app.slug}
          />
        ))}
      </div>
    </div>
  </section>
</Layout>
