<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MVVM Architecture - ArceApps Portfolio</title>
  <link rel="stylesheet" href="../style.css">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="nav-left">
        <div class="nav-logo">
          <h3><a href="../index.html">ArceApps</a></h3>
        </div>
      </div>
      <div class="nav-right">
        <ul class="nav-menu" id="nav-menu">
          <li class="nav-item">
            <a href="../index.html" class="nav-link">Inicio</a>
          </li>
          <li class="nav-item">
            <a href="../about.html" class="nav-link">About</a>
          </li>
          <li class="nav-item">
            <a href="../portfolio.html" class="nav-link active">Portfolio</a>
          </li>
          <li class="nav-item">
            <a href="../blog.html" class="nav-link">Blog</a>
          </li>
        </ul>
        <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
          <div class="theme-toggle-circle">
            <span class="theme-icon">üåô</span>
          </div>
        </button>
        <div class="nav-toggle" id="nav-toggle">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
      </div>
    </div>
  </nav>

  <article class="project-detail">
    <div class="container">
      <header class="project-header">
        <div class="project-meta">
          <span class="project-category">Arquitectura Android</span>
          <span class="project-status">Completado</span>
        </div>
        <h1>MVVM Architecture</h1>
        <p class="project-subtitle">Ejemplo completo de arquitectura MVVM con Clean Architecture demostrando las mejores pr√°cticas de desarrollo Android</p>
        
        <div class="project-hero-image">
          <img src="https://user-images.githubusercontent.com/61239577/194740487-07821e96-6b30-4c34-ab9c-7dbfbbdfc872.png" alt="MVVM Architecture Demo" />
        </div>

        <div class="project-links">
          <a href="https://github.com/ArceApps/MVVM" class="btn btn-primary" target="_blank">Ver en GitHub</a>
          <a href="https://developer.android.com/jetpack/guide" class="btn btn-outline" target="_blank">Android Architecture Guide</a>
        </div>
      </header>

      <div class="project-content">
        <div class="project-overview">
          <h2>Descripci√≥n del Proyecto</h2>
          <p>Este proyecto demuestra una implementaci√≥n completa de la arquitectura MVVM (Model-View-ViewModel) combinada con principios de Clean Architecture. Sirve como ejemplo de las mejores pr√°cticas recomendadas por Google para el desarrollo de aplicaciones Android escalables y mantenibles.</p>
          
          <p>La aplicaci√≥n incluye separaci√≥n clara de responsabilidades, inyecci√≥n de dependencias, testing unitario, y patrones de dise√±o que facilitan el desarrollo en equipo y la evoluci√≥n del c√≥digo a largo plazo.</p>
        </div>

        <div class="screenshots-section">
          <h2>Capturas de Pantalla</h2>
          <div class="screenshots-grid">
            <div class="screenshot-item">
              <img src="https://user-images.githubusercontent.com/61239577/194740487-07821e96-6b30-4c34-ab9c-7dbfbbdfc872.png" alt="Lista principal" />
              <p>Lista principal con datos</p>
            </div>
            <div class="screenshot-item">
              <img src="https://user-images.githubusercontent.com/61239577/194740489-aa8eca19-59ec-4bc4-9272-d3732bbec306.png" alt="Estado de carga" />
              <p>Estado de carga con indicador</p>
            </div>
            <div class="screenshot-item">
              <img src="https://user-images.githubusercontent.com/61239577/194740492-f381066c-c0a5-4351-b7a0-a4f916f41716.png" alt="Vista de detalle" />
              <p>Vista de detalle de elemento</p>
            </div>
          </div>
        </div>

        <div class="tech-stack">
          <h3>Tecnolog√≠as Utilizadas</h3>
          <div class="tech-grid">
            <div class="tech-item">
              <div class="tech-icon">üèóÔ∏è</div>
              <div>
                <h4>MVVM Pattern</h4>
                <p>Separaci√≥n de responsabilidades</p>
              </div>
            </div>
            <div class="tech-item">
              <div class="tech-icon">üßπ</div>
              <div>
                <h4>Clean Architecture</h4>
                <p>Arquitectura por capas</p>
              </div>
            </div>
            <div class="tech-item">
              <div class="tech-icon">üëÅÔ∏è</div>
              <div>
                <h4>Observer Pattern</h4>
                <p>Comunicaci√≥n reactiva</p>
              </div>
            </div>
            <div class="tech-item">
              <div class="tech-icon">‚ö°</div>
              <div>
                <h4>Kotlin</h4>
                <p>Lenguaje moderno</p>
              </div>
            </div>
            <div class="tech-item">
              <div class="tech-icon">üîÑ</div>
              <div>
                <h4>LiveData</h4>
                <p>Datos observables</p>
              </div>
            </div>
            <div class="tech-item">
              <div class="tech-icon">üéØ</div>
              <div>
                <h4>ViewModel</h4>
                <p>Gesti√≥n de estado UI</p>
              </div>
            </div>
          </div>
        </div>

        <div class="architecture-section">
          <h2>Estructura de la Arquitectura</h2>
          
          <h3>Capas de Clean Architecture</h3>
          <div class="code-block">
            <pre><code>// Capa de Dominio - Use Cases
class GetUserListUseCase(
    private val userRepository: UserRepository
) {
    suspend operator fun invoke(): Result&lt;List&lt;User&gt;&gt; {
        return try {
            val users = userRepository.getUsers()
            Result.success(users)
        } catch (e: Exception) {
            Result.failure(e)
        }
    }
}

// Capa de Datos - Repository Implementation
class UserRepositoryImpl(
    private val remoteDataSource: UserRemoteDataSource,
    private val localDataSource: UserLocalDataSource
) : UserRepository {
    
    override suspend fun getUsers(): List&lt;User&gt; {
        return try {
            val remoteUsers = remoteDataSource.fetchUsers()
            localDataSource.saveUsers(remoteUsers)
            remoteUsers
        } catch (e: Exception) {
            localDataSource.getCachedUsers()
        }
    }
}</code></pre>
          </div>

          <h3>ViewModel con LiveData</h3>
          <div class="code-block">
            <pre><code>class MainViewModel(
    private val getUserListUseCase: GetUserListUseCase
) : ViewModel() {
    
    private val _uiState = MutableLiveData&lt;UiState&lt;List&lt;User&gt;&gt;&gt;()
    val uiState: LiveData&lt;UiState&lt;List&lt;User&gt;&gt;&gt; = _uiState
    
    private val _isLoading = MutableLiveData&lt;Boolean&gt;()
    val isLoading: LiveData&lt;Boolean&gt; = _isLoading
    
    fun loadUsers() {
        viewModelScope.launch {
            _isLoading.value = true
            _uiState.value = UiState.Loading
            
            getUserListUseCase()
                .onSuccess { users ->
                    _uiState.value = UiState.Success(users)
                }
                .onFailure { error ->
                    _uiState.value = UiState.Error(error.message ?: "Unknown error")
                }
            
            _isLoading.value = false
        }
    }
    
    fun refreshUsers() {
        loadUsers()
    }
}</code></pre>
          </div>

          <h3>Fragment como Vista</h3>
          <div class="code-block">
            <pre><code>class MainFragment : Fragment() {
    
    private var _binding: FragmentMainBinding? = null
    private val binding get() = _binding!!
    
    private val viewModel: MainViewModel by viewModels {
        MainViewModelFactory(
            getUserListUseCase = GetUserListUseCase(
                userRepository = UserRepositoryImpl(
                    remoteDataSource = UserRemoteDataSourceImpl(),
                    localDataSource = UserLocalDataSourceImpl()
                )
            )
        )
    }
    
    private lateinit var userAdapter: UserAdapter
    
    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View {
        _binding = FragmentMainBinding.inflate(inflater, container, false)
        return binding.root
    }
    
    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        
        setupRecyclerView()
        observeViewModel()
        setupSwipeRefresh()
        
        viewModel.loadUsers()
    }
    
    private fun observeViewModel() {
        viewModel.uiState.observe(viewLifecycleOwner) { state ->
            when (state) {
                is UiState.Loading -> showLoading()
                is UiState.Success -> showUsers(state.data)
                is UiState.Error -> showError(state.message)
            }
        }
        
        viewModel.isLoading.observe(viewLifecycleOwner) { isLoading ->
            binding.swipeRefresh.isRefreshing = isLoading
        }
    }
}</code></pre>
          </div>
        </div>

        <div class="project-footer">
          <div class="tags">
            <span class="tag">Android</span>
            <span class="tag">Kotlin</span>
            <span class="tag">MVVM</span>
            <span class="tag">Clean Architecture</span>
            <span class="tag">LiveData</span>
            <span class="tag">ViewModel</span>
          </div>
          
          <div class="project-navigation">
            <a href="../portfolio.html" class="nav-btn">‚Üê Volver al Portfolio</a>
            <a href="project-dogapi.html" class="nav-btn">Siguiente Proyecto ‚Üí</a>
          </div>
        </div>
      </div>
    </div>
  </article>

  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-text">
          <p>&copy; 2025 ArceApps. Desarrollado con HTML, CSS y JavaScript.</p>
        </div>
        <div class="footer-links">
          <a href="https://github.com/ArceApps" class="footer-link">GitHub</a>
          <a href="#" class="footer-link">LinkedIn</a>
          <a href="#" class="footer-link">Contacto</a>
        </div>
      </div>
    </div>
  </footer>

  <script src="../script.js"></script>
</body>
</html>